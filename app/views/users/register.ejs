<%- include('../partials/header.ejs',  {title: 'Registro', home: 0}) %>
<%- include('../partials/navbar.ejs') %>
<%- include('../partials/offcanvas.ejs') %>
    <div class="container">
        <div class="row">
            <div class="col">
                <div class="row justify-content-center">
                    <div class="col-auto mt-3">
                        <h1 class="tc">Registro</h1>
                    </div>
                </div>
                <form action="/user/register" method="POST" enctype="multipart/form-data">
                    <div class="row justify-content-center mt-3">
                        <div class="col-7">
                            <label for="nombre">
                                Nombre
                            </label>
                        </div>
                        <div class="col-7">
                            <input type="text" class="form-estandar form-control <%= locals.errors && errors.nombre ? 'is-invalid' : '' %>" name="nombre"  id="nombre" value="<%= locals.old && old.nombre ? old.nombre : '' %>">
                            <div class="text-danger">
                                <% if(locals.errors && errors.nombre) { %> 
                                    <%= errors.nombre.msg %> 
                                <% } %>
                            </div>
                        </div>
                    </div>
                    <div class="row justify-content-center mt-3">
                        <div class="col-7">
                            <label for="apellido">
                                Apellido
                            </label>
                        </div>
                        <div class="col-7">
                            <input type="text" class="form-estandar form-control <%= locals.errors && errors.apellido ? 'is-invalid' : '' %>" name="apellido" id="apellido" value="<%= locals.old && old.apellido ? old.apellido : '' %>">
                            <div class="text-danger">
                                <% if(locals.errors && errors.apellido) { %> 
                                    <%= errors.apellido.msg %> 
                                <% } %>
                            </div>
                        </div>
                    </div>
                    <div class="row justify-content-center mt-3">
                        <div class="col-7">
                            <label for="email">
                                E-mail
                            </label>
                        </div>
                        <div class="col-7">
                            <input type="email" class="form-estandar form-control <%= locals.errors && errors.email ? 'is-invalid' : '' %>" name="email" id="email" value="<%= locals.old && old.email ? old.email : '' %>">
                            <div class="text-danger">
                                <% if(locals.errors && errors.email) { %> 
                                    <%= errors.email.msg %> 
                                <% } %>
                            </div>
                        </div>
                    </div>
                    <div class="row justify-content-center mt-3">
                        <div class="col-7">
                            <label for="contrasena">
                                Contraseña
                            </label>
                        </div>
                        <div class="col-7">
                            <input type="password" class="form-estandar form-control <%= locals.errors && errors.contrasena ? 'is-invalid' : '' %>" name="contrasena" id="contrasena">
                            <div class="text-danger">
                                <% if(locals.errors && errors.contrasena) { %> 
                                    <%= errors.contrasena.msg %> 
                                <% } %>
                            </div>
                        </div>
                    </div>
                    <div class="row justify-content-center mt-3">
                        <div class="col-7">
                            <label for="confirmarcontrasena">
                                Confirme Contraseña
                            </label>
                        </div>
                        <div class="col-7">
                            <input type="password" class="form-estandar form-control <%= locals.errors && errors.confirmarcontrasena ? 'is-invalid' : '' %>" name="confirmarcontrasena" id="confirmarcontrasena">
                            <div class="text-danger">
                                <% if(locals.errors && errors.confirmarcontrasena) { %> 
                                    <%= errors.confirmarcontrasena.msg %> 
                                <% } %>
                            </div>
                        </div>
                    </div>
                    <div class="row justify-content-center mt-3">
                        <div class="col-7">
                            <label for="avatar" class="form-label">Imagen de perfil:</label>
                        </div>
                        <div class="col-7">
                            <input type="file" name="avatar" id="avatar">
                            <div class="text-danger">
                                <% if(locals.errors && errors.avatar) { %> 
                                    <%= errors.avatar.msg %> 
                                <% } %>
                            </div>
                        </div>
                    </div>
                    <div class="row justify-content-center mt-3">
                        <div class="col-7">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="checkPrivacidad" name="checkPrivacidad" <%= locals.old && old.checkPrivacidad ? 'checked' : '' %>>
                                <label class="form-check-label" for="checkPrivacidad">
                                    <p>Declaro que soy mayor de edad, acepto los Términos y 
                                        Condiciones  y autorizo el uso de mis datos de acuerdo 
                                        a la <a href="/privacy">Declaración de Privacidad</a></p>
                                </label>
                                <div class="text-danger">
                                    <% if(locals.errors && errors.checkPrivacidad) { %> 
                                        <%= errors.checkPrivacidad.msg %> 
                                    <% } %>
                                </div>
                              </div>
                        </div>
                    </div>
                    <div class="row justify-content-center mt-3">
                        <div class="col-11 center">
                            <button type="submit" class="boton-estandar boton-flex">
                                Registrarse
                            </button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
</body>
<%- include('../partials/footer.ejs') %>